# 云开发 AI 规则

## 项目概述
这是一个基于腾讯云开发 CloudBase 的全栈项目，支持 Web 应用、小程序、云函数、云数据库等功能。

## 技术栈
- **前端**: React + Vite + Three.js (3D 游戏)
- **后端**: 腾讯云开发 CloudBase
- **数据库**: 云数据库
- **云函数**: 无服务器函数
- **静态托管**: 云开发静态网站托管
- **实时通信**: WebSocket

## 云开发最佳实践

### 1. 项目结构 
project/
├── src/ # 前端源码
│ ├── components/ # React 组件
│ ├── pages/ # 页面组件
│ ├── utils/ # 工具函数
│ └── cloudbase/ # 云开发相关配置
├── cloudfunctions/ # 云函数目录
│ ├── function1/ # 云函数1
│ └── function2/ # 云函数2
├── public/ # 静态资源
└── .cursor/ # Cursor AI 配置
├── mcp.json # MCP 服务器配置
└── rules/ # AI 规则


### 2. 云开发配置
- 使用环境变量管理云开发配置
- 支持多环境部署（开发、测试、生产）
- 自动环境检测和切换

### 3. 数据库设计原则
- 使用云数据库存储用户数据
- 合理设计数据模型和索引
- 实现数据权限控制
- 支持实时数据同步

### 4. 云函数开发规范
- 函数命名规范：`module_action`
- 统一错误处理和日志记录
- 支持 TypeScript
- 实现函数间调用

### 5. 静态托管配置
- 支持 SPA 路由
- 配置 CDN 加速
- 实现自动部署

## AI 开发指导

### 代码生成规则
1. **前端组件**: 使用 React Hooks 和函数式组件
2. **样式**: 优先使用 CSS Modules 或 styled-components
3. **状态管理**: 使用 Zustand 或 React Context
4. **API 调用**: 使用云开发 SDK
5. **错误处理**: 统一的错误处理机制

### 云开发集成
1. **初始化**: 自动配置云开发环境
2. **数据库操作**: 使用云数据库 API
3. **文件上传**: 使用云存储
4. **实时通信**: 使用 WebSocket
5. **用户认证**: 集成云开发用户系统

### 部署流程
1. **开发环境**: 本地开发调试
2. **测试环境**: 云开发测试环境
3. **生产环境**: 云开发生产环境
4. **自动化**: 支持 CI/CD 部署

## 常用命令
```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 部署到云开发
npm run deploy

# 查看云函数日志
npm run logs
```

## 注意事项
1. 确保云开发环境已正确配置
2. 注意云开发资源使用限制
3. 合理使用云函数和数据库
4. 遵循云开发安全最佳实践
5. 定期备份重要数据

## 故障排除
1. 检查云开发环境配置
2. 查看云函数日志
3. 验证数据库权限
4. 确认网络连接
5. 检查代码语法错误